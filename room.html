<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2566">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="ko"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta charset="UTF-8"/&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"/&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;title&gt;JamFlow ğŸ¸&lt;/title&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;!-- Firebase SDK --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;script type="module"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â˜… ì—¬ê¸°ì— ë‚˜ì¤‘ì— Firebase ì„¤ì • ë¶™ì—¬ë„£ê¸° â˜…</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const firebaseConfig = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>apiKey: "AIzaSyCb_CrMi2fc8qB6HvV92DDI77JDmCqGvpY",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>authDomain: "jamflow-dd033.firebaseapp.com",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>databaseURL: "https://jamflow-dd033-default-rtdb.firebaseio.com",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>projectId: "jamflow-dd033",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>storageBucket: "jamflow-dd033.firebasestorage.app",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>messagingSenderId: "913570760402",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>appId: "1:913570760402:web:18450473aa2b0a25b18f0b"</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const app = initializeApp(firebaseConfig);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const db<span class="Apple-converted-space">Â  </span>= getDatabase(app);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// ì „ì—­ìœ¼ë¡œ ë„˜ê¸°ê¸°</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>window._db<span class="Apple-converted-space">Â  Â  </span>= db;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>window._ref <span class="Apple-converted-space">Â  </span>= ref;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>window._set <span class="Apple-converted-space">Â  </span>= set;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>window._onValue = onValue;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>window._firebaseReady = true;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.dispatchEvent(new Event('firebaseReady'));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>* { margin:0; padding:0; box-sizing:border-box; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>body {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background:#fff; color:#111;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-family:'Segoe UI', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>min-height:100vh; display:flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>flex-direction:column; align-items:center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>header {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width:100%; background:#111;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding:16px 24px; display:flex; align-items:center; gap:10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>header h1 { color:#fff; font-size:1.4rem; font-weight:800; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>header h1 span { color:#e8003a; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.room-name { color:#aaa; font-size:0.85rem; margin-left:4px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>/* ë¡œë”© */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.loading {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin-top:80px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display:flex; flex-direction:column;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items:center; gap:16px; color:#888;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.spinner {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width:36px; height:36px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border:3px solid #eee;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-top-color:#e8003a;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius:50%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>animation:spin 0.8s linear infinite;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@keyframes spin { to { transform:rotate(360deg); } }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>/* ì´ë¦„ ì…ë ¥ */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.name-screen {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width:100%; max-width:480px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding:48px 24px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display:none; flex-direction:column;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items:center; gap:16px; text-align:center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.name-screen h2 { font-size:1.4rem; font-weight:800; line-height:1.4; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.name-screen h2 span { color:#e8003a; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.name-screen p { font-size:0.9rem; color:#666; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.name-card {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width:100%; border:2px solid #111;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius:20px; padding:24px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow:6px 6px 0px #111; margin-top:8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.name-card label { display:block; font-size:0.85rem; font-weight:600; margin-bottom:8px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.name-card input {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width:100%; padding:12px 14px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border:2px solid #ddd; border-radius:10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size:1rem; background:#fafafa;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom:16px; transition:border-color 0.2s;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.name-card input:focus { outline:none; border-color:#e8003a; background:#fff; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn-main {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width:100%; padding:16px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background:#e8003a; color:#fff;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border:none; border-radius:12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size:1rem; font-weight:700;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>cursor:pointer; box-shadow:4px 4px 0px #111;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition:transform 0.15s, box-shadow 0.15s;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn-main:active { transform:translate(2px,2px); box-shadow:2px 2px 0px #111; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>/* ê·¸ë¦¬ë“œ í™”ë©´ */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-screen {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display:none; width:100%; max-width:640px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding:24px 16px 48px; flex-direction:column; gap:20px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-header { display:flex; justify-content:space-between; align-items:center; padding:0 8px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-header h2 { font-size:1.1rem; font-weight:800; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.user-badge {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background:#111; color:#fff;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding:6px 12px; border-radius:20px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size:0.8rem; font-weight:700;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>/* ì €ì¥ ìƒíƒœ í‘œì‹œ */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.save-status {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>text-align:center; font-size:0.78rem;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color:#aaa; min-height:18px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition:color 0.3s;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.save-status.saving { color:#e8003a; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.save-status.saved<span class="Apple-converted-space">Â  </span>{ color:#22c55e; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.legend { display:flex; gap:12px; align-items:center; padding:0 8px; font-size:0.8rem; color:#666; flex-wrap:wrap; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.legend-item { display:flex; align-items:center; gap:5px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.legend-dot { width:13px; height:13px; border-radius:3px; border:1px solid #ddd; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-wrap {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>overflow-x:auto;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border:2px solid #111; border-radius:16px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow:4px 4px 0 #111;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-table { border-collapse:collapse; min-width:100%; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-table thead th {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background:#111; color:#fff;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size:0.75rem; font-weight:700;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding:10px 4px; text-align:center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>white-space:nowrap; min-width:44px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-table thead th:first-child {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background:#111; min-width:0; width:0; padding:0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>position:sticky; left:0; z-index:2;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-right:2px solid #333;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-table thead th.sat { color:#7eb8ff; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-table thead th.sun { color:#ff7eb8; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-table tbody td.time-label {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background:#fafafa; font-size:0.65rem;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color:#888; font-weight:600;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding:0 6px; text-align:right;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>white-space:nowrap; position:sticky;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>left:0; z-index:1;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-right:2px solid #ccc; vertical-align:middle;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-table tbody td.cell {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width:44px; height:16px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border:1px solid #eee; cursor:pointer;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition:background 0.05s; user-select:none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-table tbody td.cell:hover { opacity:0.8; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.grid-table tbody tr.on-the-hour td.cell { border-top:1px solid #ccc; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.status-card { border:2px solid #eee; border-radius:14px; padding:16px 20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.status-card h3 { font-size:0.9rem; font-weight:700; margin-bottom:12px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.member-list { display:flex; flex-wrap:wrap; gap:8px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.member-chip {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background:#f5f5f5; border-radius:20px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding:5px 12px; font-size:0.82rem; font-weight:600;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.member-chip.me { background:#fff0f3; color:#e8003a; border:1.5px solid #e8003a; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn-confirm {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width:100%; padding:16px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background:#111; color:#fff;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border:none; border-radius:12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size:1rem; font-weight:700;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>cursor:pointer; box-shadow:4px 4px 0px #e8003a;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition:transform 0.15s, box-shadow 0.15s;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn-confirm:active { transform:translate(2px,2px); box-shadow:2px 2px 0px #e8003a; }</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;header&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;h1&gt;Jam&lt;span&gt;Flow&lt;/span&gt; ğŸ¸&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;span class="room-name" id="headerRoomName"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;!-- ë¡œë”© --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="loading" id="loadingScreen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="spinner"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;span&gt;ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;!-- ì´ë¦„ ì…ë ¥ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="name-screen" id="nameScreen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div style="font-size:3rem"&gt;ğŸµ&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;h2 id="roomTitle"&gt;í•©ì£¼ ì‹œê°„ì„&lt;br/&gt;&lt;span&gt;ê°™ì´ ë§ì¶°ë´ìš”&lt;/span&gt;&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;p&gt;ë¡œê·¸ì¸ ì—†ì´ ì´ë¦„ë§Œ ì…ë ¥í•˜ë©´ ì°¸ì—¬í•  ìˆ˜ ìˆì–´ìš”&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="name-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;label for="userName"&gt;ë‚´ ì´ë¦„ (ë‹‰ë„¤ì„)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;input type="text" id="userName" placeholder="ì˜ˆ: ê¹€ê¸°íƒ€, ë² ì´ìŠ¤ìµœ" maxlength="10"/&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;button class="btn-main" onclick="enterRoom()"&gt;ğŸ¸ ì°¸ì—¬í•˜ê¸°&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;!-- ê·¸ë¦¬ë“œ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="grid-screen" id="gridScreen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="grid-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;h2&gt;ê°€ëŠ¥í•œ ì‹œê°„ì„ ë“œë˜ê·¸í•´ì„œ ì„ íƒí•´ìš”&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="user-badge" id="userBadge"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="save-status" id="saveStatus"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="legend"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="grid-wrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;table class="grid-table" id="gridTable"&gt;&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="status-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;h3&gt;ğŸ‘¥ ì°¸ì—¬ í˜„í™© &lt;span id="memberCount" style="color:#e8003a;"&gt;&lt;/span&gt;&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="member-list" id="memberList"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;button class="btn-confirm" onclick="alert('ë°©ì¥ì´ ìµœì¢… ë‚ ì§œë¥¼ í™•ì •í•  ìˆ˜ ìˆì–´ìš”! (ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì™„ì„±)')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ğŸ¯ ìµœì¢… í•©ì£¼ ë‚ ì§œ í™•ì •í•˜ê¸°</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const DAYS = ['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â”€â”€ URL íŒŒë¼ë¯¸í„° â”€â”€</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const params <span class="Apple-converted-space">Â  Â  Â  </span>= new URLSearchParams(window.location.search);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const roomId <span class="Apple-converted-space">Â  Â  Â  </span>= params.get('id')<span class="Apple-converted-space">Â  Â  Â  Â  </span>|| 'demo_room';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const roomName <span class="Apple-converted-space">Â  Â  </span>= params.get('name')<span class="Apple-converted-space">Â  Â  Â  </span>|| 'í•©ì£¼ë°©';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const startDate<span class="Apple-converted-space">Â  Â  </span>= params.get('start') <span class="Apple-converted-space">Â  Â  </span>|| '2026-02-16';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const endDate<span class="Apple-converted-space">Â  Â  Â  </span>= params.get('end') <span class="Apple-converted-space">Â  Â  Â  </span>|| '2026-02-22';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const startHour<span class="Apple-converted-space">Â  Â  </span>= parseInt(params.get('startTime') || '9');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const endHour<span class="Apple-converted-space">Â  Â  Â  </span>= parseInt(params.get('endTime') <span class="Apple-converted-space">Â  </span>|| '22');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const unitMin<span class="Apple-converted-space">Â  Â  Â  </span>= parseInt(params.get('unit')<span class="Apple-converted-space">Â  Â  Â  </span>|| '30');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const totalMembers = parseInt(params.get('members') <span class="Apple-converted-space">Â  </span>|| '4');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('headerRoomName').textContent = roomName;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('roomTitle').innerHTML = `&lt;span&gt;${roomName}&lt;/span&gt;&lt;br/&gt;í•©ì£¼ ì‹œê°„ì„ ê°™ì´ ë§ì¶°ë´ìš”`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â”€â”€ ë‚ ì§œ/ìŠ¬ë¡¯ ë°°ì—´ â”€â”€</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function getDates(s, e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const arr = [], cur = new Date(s + 'T00:00:00');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const end = new Date(e + 'T00:00:00');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>while (cur &lt;= end) { arr.push(new Date(cur)); cur.setDate(cur.getDate()+1); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return arr;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function getSlots(sh, eh, unit) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const slots = [];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>for (let h = sh; h &lt; eh; h++)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>for (let m = 0; m &lt; 60; m += unit)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>slots.push({ h, m });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return slots;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const dates = getDates(startDate, endDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const slots = getSlots(startHour, endHour, unitMin);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â”€â”€ ìƒíƒœ â”€â”€</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// selections[name] = { "di_si": true, ... }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>let selections = {};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>let myName = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>let isDragging = false, dragMode = null;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>let saveTimer = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function cellKey(di, si) { return `${di}_${si}`; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function getCount(di, si) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const k = cellKey(di, si);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return Object.values(selections).filter(s =&gt; s &amp;&amp; s[k]).length;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function isMine(di, si) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return !!(selections[myName] &amp;&amp; selections[myName][cellKey(di, si)]);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â”€â”€ ìƒ‰ìƒ â”€â”€</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function cellColor(di, si) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const cnt = getCount(di, si);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (cnt === 0) return '#fff';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (cnt &gt;= totalMembers) return '#e8003a';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const r = cnt / totalMembers;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (r &gt;= 0.66) return '#ff4d6d';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (r &gt;= 0.33) return '#ff8099';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return '#ffe0e6';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â”€â”€ ë²”ë¡€ â”€â”€</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function buildLegend() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const m = totalMembers;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const items = [</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>{ color:'#fff',<span class="Apple-converted-space">Â  Â  </span>label:'ë¶ˆê°€' },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>{ color:'#ffe0e6', label:'1ëª…' },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>{ color:'#ff8099', label: m &lt;= 4 ? '2ëª…' : `2~${Math.floor(m*0.66)}ëª…` },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>{ color:'#ff4d6d', label: m &lt;= 4 ? '3ëª…' : `${Math.floor(m*0.66)+1}~${m-1}ëª…` },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>{ color:'#e8003a', label:`${m}ëª… ëª¨ë‘!` },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.querySelector('.legend').innerHTML = items.map(i =&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>`&lt;div class="legend-item"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="legend-dot" style="background:${i.color};"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span&gt;${i.label}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;`</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>).join('');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â”€â”€ ê·¸ë¦¬ë“œ â”€â”€</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function buildGrid() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const tbl = document.getElementById('gridTable');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>tbl.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const thead = tbl.createTHead(), hrow = thead.insertRow();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const th0 = document.createElement('th'); hrow.appendChild(th0);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>dates.forEach((d, di) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const th = document.createElement('th');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const day = d.getDay();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>th.innerHTML = `${d.getMonth()+1}/${d.getDate()}&lt;br/&gt;${DAYS[day]}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (day === 6) th.classList.add('sat');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (day === 0) th.classList.add('sun');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>hrow.appendChild(th);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const tbody = tbl.createTBody();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>slots.forEach((slot, si) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const tr = tbody.insertRow();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (slot.m === 0) tr.classList.add('on-the-hour');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const td0 = tr.insertCell();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>td0.className = 'time-label';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (slot.m === 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const h = slot.h;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>td0.textContent = h &lt; 12 ? `ì˜¤ì „ ${h}ì‹œ` : h === 12 ? `ì˜¤í›„ 12ì‹œ` : `ì˜¤í›„ ${h-12}ì‹œ`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>dates.forEach((d, di) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const td = tr.insertCell();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>td.className = 'cell';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>td.dataset.di = di; td.dataset.si = si;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>td.style.background = cellColor(di, si);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>td.addEventListener('mousedown', e =&gt; { e.preventDefault(); startDrag(di, si); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>td.addEventListener('mouseover', () =&gt; { if (isDragging) doDrag(di, si); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>td.addEventListener('touchstart', e =&gt; { e.preventDefault(); startDrag(di, si); }, { passive:false });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>td.addEventListener('touchmove', e =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const t = e.touches[0];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const el = document.elementFromPoint(t.clientX, t.clientY);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (el &amp;&amp; el.dataset.di !== undefined) doDrag(+el.dataset.di, +el.dataset.si);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}, { passive:false });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.addEventListener('mouseup',<span class="Apple-converted-space">Â  </span>() =&gt; { if(isDragging){ isDragging=false; scheduleSave(); } });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.addEventListener('touchend', () =&gt; { if(isDragging){ isDragging=false; scheduleSave(); } });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function startDrag(di, si) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>isDragging = true;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>dragMode = isMine(di, si) ? 'remove' : 'add';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>toggle(di, si);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function doDrag(di, si) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (dragMode==='add'<span class="Apple-converted-space">Â  Â  </span>&amp;&amp; !isMine(di,si)) toggle(di,si);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (dragMode==='remove' &amp;&amp;<span class="Apple-converted-space">Â  </span>isMine(di,si)) toggle(di,si);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function toggle(di, si) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!selections[myName]) selections[myName] = {};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const k = cellKey(di, si);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (dragMode === 'add') selections[myName][k] = true;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>else delete selections[myName][k];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const td = document.querySelector(`td[data-di="${di}"][data-si="${si}"]`);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (td) td.style.background = cellColor(di, si);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â”€â”€ Firebase ì €ì¥ (ë””ë°”ìš´ìŠ¤: ë“œë˜ê·¸ ëë‚˜ê³  0.5ì´ˆ í›„ ì €ì¥) â”€â”€</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function scheduleSave() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>clearTimeout(saveTimer);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>setStatus('saving', 'ì €ì¥ ì¤‘...');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>saveTimer = setTimeout(saveToFirebase, 500);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function setStatus(type, msg) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const el = document.getElementById('saveStatus');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.textContent = msg;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.className = 'save-status ' + type;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function saveToFirebase() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!window._db) { updateStatus(); return; } // Firebase ë¯¸ì—°ê²° ì‹œ ìŠ¤í‚µ</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const dbRef = window._ref(window._db, `rooms/${roomId}/selections/${myName}`);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>window._set(dbRef, selections[myName] || {})</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.then(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>setStatus('saved', 'âœ… ì €ì¥ëì–´ìš”!');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>setTimeout(() =&gt; setStatus('', ''), 2000);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>})</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.catch(() =&gt; setStatus('', ''));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>updateStatus();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â”€â”€ Firebase ì‹¤ì‹œê°„ ìˆ˜ì‹  â”€â”€</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function listenFirebase() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!window._db) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const dbRef = window._ref(window._db, `rooms/${roomId}/selections`);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>window._onValue(dbRef, snap =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const data = snap.val() || {};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// ë‚´ ë°ì´í„°ëŠ” ë®ì–´ì“°ì§€ ì•ŠìŒ</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>Object.keys(data).forEach(name =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>if (name !== myName) selections[name] = data[name];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>refreshAllCells();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>updateStatus();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function refreshAllCells() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.querySelectorAll('td.cell').forEach(td =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>td.style.background = cellColor(+td.dataset.di, +td.dataset.si);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â”€â”€ ì°¸ì—¬ í˜„í™© â”€â”€</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function updateStatus() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const names = new Set(Object.keys(selections).filter(n =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const s = selections[n];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return s &amp;&amp; Object.keys(s).length &gt; 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('memberCount').textContent = `${names.size}ëª… ì°¸ì—¬ì¤‘`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const list = document.getElementById('memberList');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>list.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>names.forEach(n =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const chip = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>chip.className = 'member-chip' + (n === myName ? ' me' : '');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>chip.textContent = n === myName ? `${n} (ë‚˜)` : n;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>list.appendChild(chip);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â”€â”€ ì°¸ì—¬í•˜ê¸° â”€â”€</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function enterRoom() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const name = document.getElementById('userName').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!name) { alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!'); return; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>myName = name;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('nameScreen').style.display<span class="Apple-converted-space">Â  </span>= 'none';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('gridScreen').style.display<span class="Apple-converted-space">Â  </span>= 'flex';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('userBadge').textContent = `ğŸ¸ ${myName}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>buildLegend();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>buildGrid();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>listenFirebase();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>updateStatus();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('userName').addEventListener('keydown', e =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (e.key === 'Enter') enterRoom();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// â”€â”€ Firebase ì¤€ë¹„ë˜ë©´ ë¡œë”© â†’ ì´ë¦„ ì…ë ¥ í™”ë©´ ì „í™˜ â”€â”€</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function showNameScreen() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('loadingScreen').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('nameScreen').style.display<span class="Apple-converted-space">Â  Â  </span>= 'flex';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (window._firebaseReady) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>showNameScreen();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.addEventListener('firebaseReady', showNameScreen);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>// Firebase ì„¤ì • ì•ˆ ëì„ ë•Œë„ 3ì´ˆ í›„ ê·¸ëƒ¥ ì§„í–‰</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>setTimeout(showNameScreen, 3000);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
